\doxysection{main.\+cpp}
\hypertarget{main_8cpp_source}{}\label{main_8cpp_source}\index{src/main.cpp@{src/main.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ <Arduino.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <M5Cardputer.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <SD.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <M5GFX.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}GUI.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00007}00007\ \textcolor{comment}{//Global\ variables}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00008}00008\ \mbox{\hyperlink{class_g_u_i___class}{GUI\_Class}}\ GUI;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00009}00009\ \mbox{\hyperlink{classbuffer___class}{buffer\_Class}}\ Buffer;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00010}00010\ \textcolor{comment}{//In\ the\ future\ put\ here\ the\ rest\ of\ the\ object\ instances\ to\ control\ all\ periferal}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00013}00013\ \textcolor{keywordtype}{void}\ setup()\ \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00014}00014\ \ \ \textcolor{comment}{//Serial\ for\ monitoring}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00015}00015\ \ \ Serial.begin(115200);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00016}00016\ \ \ \textcolor{comment}{//\ Basic\ setup\ to\ initialize\ the\ Cardputer\ object\ defined\ in\ M5's\ libraries}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00017}00017\ \ \ \textcolor{keyword}{auto}\ cfg\ =\ M5.config();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Creates\ a\ cfg\ struct\ as\ defined\ in\ M5Unified}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00018}00018\ \ \ M5Cardputer.begin(cfg,\ \textcolor{keyword}{true});\ \ \ \ \ \ \ \textcolor{comment}{//Initialises\ M5Cardputer\ object\ with\ all\ the\ correct\ pointers\ stored}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00019}00019\ \ \ GUI.\mbox{\hyperlink{class_g_u_i___class_aca65997e1615dbb0ddee2671aa95ae92}{begin}}();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Initialises\ GUI\ in\ its\ separate\ execution\ thread}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00020}00020\ \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00022}00022\ \textcolor{keywordtype}{void}\ loop()\ \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00023}00023\ \ \ \textcolor{comment}{//\ Debuggin\ what's\ running\ in\ which\ core}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00024}00024\ \ \ TaskHandle\_t\ \ core0\ =\ xTaskGetCurrentTaskHandleForCPU(0);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00025}00025\ \ \ \textcolor{keywordtype}{int}\ pri0\ =\ uxTaskPriorityGet(core0);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00026}00026\ \ \ String\ core0Task\ =\ pcTaskGetName(core0);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00027}00027\ \ \ TaskHandle\_t\ \ core1\ =\ xTaskGetCurrentTaskHandleForCPU(1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00028}00028\ \ \ String\ core1Task\ =\ pcTaskGetName(core1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00029}00029\ \ \ \textcolor{keywordtype}{int}\ pri1\ =\ uxTaskPriorityGet(core1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00030}00030\ \ \ eTaskState\ keyboardState\ =\ eTaskGetState(Buffer.\mbox{\hyperlink{classbuffer___class_a2db51cdf715f303efc54f2a97fad5785}{getTaskHandle}}());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00031}00031\ \ \ \textcolor{keywordtype}{int}\ priKey\ =\ uxTaskPriorityGet(Buffer.\mbox{\hyperlink{classbuffer___class_a2db51cdf715f303efc54f2a97fad5785}{getTaskHandle}}());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00032}00032\ \ \ String\ data\ =\ \textcolor{stringliteral}{"{}\(\backslash\)nRunning:\(\backslash\)nCore0-\/>"{}}\ +\ core0Task\ +\ \textcolor{stringliteral}{"{}\ p="{}}+pri0+\textcolor{stringliteral}{"{}\(\backslash\)nCore1-\/>\ "{}}\ +\ core1Task\ +\ \textcolor{stringliteral}{"{}\ p="{}}+pri1+\textcolor{stringliteral}{"{}\(\backslash\)nKeboard\ task\ state:\ "{}}+keyboardState+\textcolor{stringliteral}{"{}\(\backslash\)nKeyboard\ task\ pri:\ "{}}+priKey+\textcolor{stringliteral}{"{}\(\backslash\)nKeyboard\ input:\ "{}}+Buffer.\mbox{\hyperlink{classbuffer___class_a0b98b8aef328ebdd93ae50b1139bc06e}{keyboardEnable}}+\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00033}00033\ \ \ log\_i(\textcolor{stringliteral}{"{}\%s"{}},\ data.c\_str());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00034}00034\ \ \ \textcolor{comment}{/*M5Canvas\ debug(\&M5Cardputer.Display);}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00035}00035\ \textcolor{comment}{\ \ debug.createSprite(140,96);}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00036}00036\ \textcolor{comment}{\ \ debug.print(data);}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00037}00037\ \textcolor{comment}{\ \ debug.println("{}Data:\ "{}+\ Buffer.getDataStr());}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00038}00038\ \textcolor{comment}{\ \ debug.println("{}Nav\ char:\ "{}\ +\ String(Buffer.navChar));}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00039}00039\ \textcolor{comment}{\ \ debug.pushSprite(50,30);}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00040}00040\ \textcolor{comment}{\ \ debug.deleteSprite();*/}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00041}00041\ \ \ vTaskDelay(3000\ /\ portTICK\_PERIOD\_MS);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00042}00042\ \ \ }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00043}00043\ \}}

\end{DoxyCode}
